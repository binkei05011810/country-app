{"ast":null,"code":"import { GET_COUNTRY_SUCCESS, LIKE, UNLIKE, SEARCH } from '../actions';\nconst initialState = {\n  favCountries: JSON.parse(window.localStorage.getItem(\"favCountries\")) || [],\n  allCountries: [],\n  searchCountries: [],\n  country: {},\n  input: \"\"\n};\n\nconst countryReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LIKE:\n      const newFav = [...state.favCountries, action.payload.country];\n      console.log(newFav);\n      window.localStorage.setItem(\"favCountries\", newFav);\n      console.log(windlow);\n      return { ...state,\n        favCountries: newFav\n      };\n\n    case UNLIKE:\n      return { ...state,\n        favCountries: state.favCountries.filter(country => country.name !== action.payload.countryName)\n      };\n\n    case GET_COUNTRY_SUCCESS:\n      const country = action.payload.country;\n\n      if (country.length === 1) {\n        return { ...state,\n          country: country[0]\n        };\n      } else {\n        return { ...state,\n          allCountries: country,\n          searchCountries: country\n        };\n      }\n\n    case SEARCH:\n      const input = action.payload.input;\n      const searchResults = state.allCountries.filter(country => country.name.slice(0, input.length).toLowerCase() === input.toLowerCase());\n      console.log(searchResults);\n      return { ...state,\n        searchCountries: searchResults,\n        input: input\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default countryReducer;","map":{"version":3,"sources":["/Users/meocuabinh/Documents/Integrify/fs7-finland-react/src/redux/reducers/countryReducer.js"],"names":["GET_COUNTRY_SUCCESS","LIKE","UNLIKE","SEARCH","initialState","favCountries","JSON","parse","window","localStorage","getItem","allCountries","searchCountries","country","input","countryReducer","state","action","type","newFav","payload","console","log","setItem","windlow","filter","name","countryName","length","searchResults","slice","toLowerCase"],"mappings":"AAAA,SAASA,mBAAT,EAA8BC,IAA9B,EAAoCC,MAApC,EAA4CC,MAA5C,QAA0D,YAA1D;AAEA,MAAMC,YAAY,GAClB;AACIC,EAAAA,YAAY,EAAEC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAX,KAA2D,EAD7E;AAEIC,EAAAA,YAAY,EAAE,EAFlB;AAGIC,EAAAA,eAAe,EAAE,EAHrB;AAIIC,EAAAA,OAAO,EAAE,EAJb;AAKIC,EAAAA,KAAK,EAAE;AALX,CADA;;AASA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGZ,YAAT,EAAuBa,MAAvB,KAAkC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKjB,IAAL;AACI,YAAMkB,MAAM,GAAG,CAAC,GAAGH,KAAK,CAACX,YAAV,EAAwBY,MAAM,CAACG,OAAP,CAAeP,OAAvC,CAAf;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACAX,MAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,cAA5B,EAA4CJ,MAA5C;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;AACA,aAAO,EAAE,GAAGR,KAAL;AAAYX,QAAAA,YAAY,EAAEc;AAA1B,OAAP;;AACJ,SAAKjB,MAAL;AACI,aAAO,EAAE,GAAGc,KAAL;AAAYX,QAAAA,YAAY,EAAEW,KAAK,CAACX,YAAN,CAAmBoB,MAAnB,CAA0BZ,OAAO,IAAIA,OAAO,CAACa,IAAR,KAAiBT,MAAM,CAACG,OAAP,CAAeO,WAArE;AAA1B,OAAP;;AACJ,SAAK3B,mBAAL;AACI,YAAMa,OAAO,GAAGI,MAAM,CAACG,OAAP,CAAeP,OAA/B;;AACA,UAAIA,OAAO,CAACe,MAAR,KAAmB,CAAvB,EAA0B;AACtB,eAAO,EAAE,GAAGZ,KAAL;AAAYH,UAAAA,OAAO,EAAEA,OAAO,CAAC,CAAD;AAA5B,SAAP;AACH,OAFD,MAEO;AACH,eAAO,EAAE,GAAGG,KAAL;AAAYL,UAAAA,YAAY,EAAEE,OAA1B;AAAmCD,UAAAA,eAAe,EAAEC;AAApD,SAAP;AACH;;AACL,SAAKV,MAAL;AACI,YAAMW,KAAK,GAAGG,MAAM,CAACG,OAAP,CAAeN,KAA7B;AACA,YAAMe,aAAa,GAAGb,KAAK,CAACL,YAAN,CAAmBc,MAAnB,CAA0BZ,OAAO,IAAIA,OAAO,CAACa,IAAR,CAAaI,KAAb,CAAmB,CAAnB,EAAsBhB,KAAK,CAACc,MAA5B,EAAoCG,WAApC,OAAsDjB,KAAK,CAACiB,WAAN,EAA3F,CAAtB;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYO,aAAZ;AACA,aAAO,EAAE,GAAGb,KAAL;AAAYJ,QAAAA,eAAe,EAAEiB,aAA7B;AAA4Cf,QAAAA,KAAK,EAAEA;AAAnD,OAAP;;AACJ;AACI,aAAOE,KAAP;AAtBR;AAwBH,CAzBD;;AA2BA,eAAeD,cAAf","sourcesContent":["import { GET_COUNTRY_SUCCESS, LIKE, UNLIKE, SEARCH } from '../actions';\n\nconst initialState =\n{\n    favCountries: JSON.parse(window.localStorage.getItem(\"favCountries\")) || [],\n    allCountries: [],\n    searchCountries: [],\n    country: {},\n    input: \"\"\n};\n\nconst countryReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case LIKE:\n            const newFav = [...state.favCountries, action.payload.country];\n            console.log(newFav);\n            window.localStorage.setItem(\"favCountries\", newFav);\n            console.log(windlow)\n            return { ...state, favCountries: newFav };\n        case UNLIKE:\n            return { ...state, favCountries: state.favCountries.filter(country => country.name !== action.payload.countryName) };\n        case GET_COUNTRY_SUCCESS:\n            const country = action.payload.country;\n            if (country.length === 1) {\n                return { ...state, country: country[0] };\n            } else {\n                return { ...state, allCountries: country, searchCountries: country };\n            }\n        case SEARCH:\n            const input = action.payload.input;\n            const searchResults = state.allCountries.filter(country => country.name.slice(0, input.length).toLowerCase() === input.toLowerCase());\n            console.log(searchResults);\n            return { ...state, searchCountries: searchResults, input: input }\n        default:\n            return state;\n    }\n}\n\nexport default countryReducer;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}