{"ast":null,"code":"// Put effect similar to dispatch in thunk => trigger another action to send data to reducer\nimport { takeEvery, put } from 'redux-saga/effects';\nimport getCountrySuccess from '../actions';\nimport GET_COUNTRY_SAGA from '../actions'; // Effects like takeEvery, takeLatest: define when to run the saga (which action type will trigger the saga)\n// Saga have to be triggered. thunk can be called straight away\n\nfunction* getCountry() {\n  yield takeEvery(GET_COUNTRY_SAGA, function* (action) {\n    const name = action.payload.countryName;\n    const url = `https://restcountries.eu/rest/v2/${name ? `name/${name}` : \"all\"}`;\n    const response = yield fetch(url);\n    const data = yield response.json();\n    yield put(getCountrySuccess(name ? data[0] : data));\n  });\n}\n\nexport default getCountry;","map":{"version":3,"sources":["/Users/meocuabinh/Documents/Integrify/fs7-finland-react/src/redux/saga/countrySaga.js"],"names":["takeEvery","put","getCountrySuccess","GET_COUNTRY_SAGA","getCountry","action","name","payload","countryName","url","response","fetch","data","json"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,oBAA/B;AAEA,OAAOC,iBAAP,MAA8B,YAA9B;AACA,OAAOC,gBAAP,MAA6B,YAA7B,C,CAEA;AACA;;AACA,UAAUC,UAAV,GAAuB;AACnB,QAAMJ,SAAS,CAACG,gBAAD,EAAmB,WAAWE,MAAX,EAAmB;AACjD,UAAMC,IAAI,GAAGD,MAAM,CAACE,OAAP,CAAeC,WAA5B;AACA,UAAMC,GAAG,GAAI,oCAAmCH,IAAI,GAAI,QAAOA,IAAK,EAAhB,GAAoB,KAAM,EAA9E;AAEA,UAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,UAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AAEA,UAAMZ,GAAG,CAACC,iBAAiB,CAACI,IAAI,GAAGM,IAAI,CAAC,CAAD,CAAP,GAAaA,IAAlB,CAAlB,CAAT;AACH,GARc,CAAf;AASH;;AAED,eAAeR,UAAf","sourcesContent":["// Put effect similar to dispatch in thunk => trigger another action to send data to reducer\nimport { takeEvery, put } from 'redux-saga/effects';\n\nimport getCountrySuccess from '../actions';\nimport GET_COUNTRY_SAGA from '../actions';\n\n// Effects like takeEvery, takeLatest: define when to run the saga (which action type will trigger the saga)\n// Saga have to be triggered. thunk can be called straight away\nfunction* getCountry() {\n    yield takeEvery(GET_COUNTRY_SAGA, function* (action) {\n        const name = action.payload.countryName;\n        const url = `https://restcountries.eu/rest/v2/${name ? `name/${name}` : \"all\"}`;\n\n        const response = yield fetch(url);\n        const data = yield response.json();\n\n        yield put(getCountrySuccess(name ? data[0] : data));\n    })\n}\n\nexport default getCountry;"]},"metadata":{},"sourceType":"module"}